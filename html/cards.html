<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>卡牌图鉴</title>
		<link type="text/css" rel="styleSheet" href="../css/base.css" />
		<link type="text/css" rel="styleSheet" href="../css/cards.css" />
		<script src="../js/jquery-3.4.1.js" type="application/javascript"></script>
		<script src="../js/data.js" type="application/javascript"></script>
		<script type="application/javascript">
			function getTxColor(atttype) {
				if (atttype.indexOf("att") != -1) {
					return "att_color";
				} else if (atttype.indexOf("mag") != -1) {
					return "mag_color";
				} else if (atttype.indexOf("heal") != -1) {
					return "heal_color";
				} else {
					return "arm_color";
				}
			}

			function card_compare(c1, c2) {
				if ((c1.value - c2.value) != 0) {
					return c1.value - c2.value;
				} else {
					return c1.name.localeCompare(c2.name, "zh");
				}
			};

			function get_cards_from_deck() {
				let tmp_card_arr = [];
				for (i in CardList) {
					tmp_card_arr.push(CardList[i]);
				}
				return tmp_card_arr.sort(card_compare);
			}
			$(function() {
				$(".back_div").on("click", function() {
					history.back();
				});

				let cntr = 0;
				let cardlist = get_cards_from_deck();
				for (let i=0;i<cardlist.length;i++) {
					let tmp_tx_color = getTxColor(cardlist[i].type);
					cntr++;
					let tmp_div_str = '<div class="card_div">';
					tmp_div_str = tmp_div_str + '<div class="img_div"><img src="../img/' + cardlist[i].img + '"></div>';
					tmp_div_str = tmp_div_str + '<div class="name_div">' + cardlist[i].name + '</div>';
					tmp_div_str = tmp_div_str + '<div class="data_div"><span class="' + tmp_tx_color + '">' + cardlist[i].type +
						': ' + cardlist[i].value + '</span></div>';
					tmp_div_str = tmp_div_str + '<div class="info_div">';

					tmp_div_str = tmp_div_str + '</div></div>';
					// console.log(tmp_mon);
					if (cntr % 2 == 1) {
						$(tmp_div_str).appendTo($(".content_div_1"));
					} else {
						$(tmp_div_str).appendTo($(".content_div_2"));
					}


				}
			});
		</script>
	</head>
	<body>
		<div class="header_div">卡牌图鉴</div>
		<div class="back_div">
			&lt;-</div>
		<div class="content_div_1">

		</div>
		<div class="content_div_2">

		</div>
	</body>
</html>
